{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2025-10-31T12:00:00.000Z",
  "__export_source": "insomnia.desktop.app:v2023.5.8",
  "resources": [
    {
      "_id": "req_create_doc_path",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents",
      "name": "1. Create Document (Simple - folder_path only)",
      "description": "External AI pattern: Create with folder_path only, auto-creates folders",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"folder_path\": \"Characters\",\n  \"name\": \"Aria Moonwhisper\",\n  \"content\": \"# Aria Moonwhisper\\n\\nA powerful sorceress with **silver hair** and violet eyes.\\n\\n- Age: 17\\n- Element: Wind\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1698739100000,
      "isPrivate": false,
      "afterResponseScript": "const response = await insomnia.response.json();\nif (response && response.id) {\n  await insomnia.environment.set('document_id', response.id);\n  console.log('✅ Saved document_id:', response.id);\n}\nif (response && response.folder_id) {\n  await insomnia.environment.set('folder_id', response.folder_id);\n  console.log('✅ Saved folder_id:', response.folder_id);\n}",
      "_type": "request"
    },
    {
      "_id": "req_create_doc_optimized",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents",
      "name": "1b. Create Document (Optimized - folder_id + folder_path)",
      "description": "Frontend pattern: Pass folder_id for speed, folder_path as backup",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"folder_path\": \"Characters\",\n  \"folder_id\": \"{{ _.folder_id }}\",\n  \"name\": \"Professor Thorne\",\n  \"content\": \"# Professor Thorne\\n\\nAn enigmatic teacher with secrets to hide.\\n\\n- Age: Unknown\\n- Element: All\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1698739092500,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_create_doc_priority_test",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents",
      "name": "1c. [PRIORITY TEST] Create with Both - folder_id Wins",
      "description": "Verify folder_id takes priority over folder_path when both provided",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"folder_path\": \"Characters\",\n  \"folder_id\": \"{{ _.folder_id }}\",\n  \"name\": \"Priority Test Document\",\n  \"content\": \"# Testing Priority\\n\\nThis document should be in the folder_id location, NOT Characters.\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1698739088750,
      "isPrivate": false,
      "afterResponseScript": "const response = await insomnia.response.json();\nif (response && response.folder_id === insomnia.environment.get('folder_id')) {\n  console.log('✅ Priority test passed: folder_id was used');\n} else {\n  console.log('❌ Priority test failed: wrong folder_id');\n}\nconsole.log('Expected folder_id:', insomnia.environment.get('folder_id'));\nconsole.log('Actual folder_id:', response.folder_id);",
      "_type": "request"
    },
    {
      "_id": "req_create_doc_root",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents",
      "name": "2. Create Root Document",
      "description": "Create a document at root level (empty folder_path)",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"folder_path\": \"\",\n  \"name\": \"Quick Notes\",\n  \"content\": \"# Quick Notes\\n\\nRandom ideas and thoughts to explore later.\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1698739085000,
      "isPrivate": false,
      "afterResponseScript": "const response = await insomnia.response.json();\nif (response && response.id) {\n  await insomnia.environment.set('root_document_id', response.id);\n  console.log('✅ Saved root_document_id:', response.id);\n}",
      "_type": "request"
    },
    {
      "_id": "req_get_document",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents/{{ _.document_id }}",
      "name": "3. Get Document by ID",
      "description": "Get a specific document by ID (with full content)",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [],
      "authentication": {},
      "metaSortKey": -1698738900000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_update_content",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents/{{ _.document_id }}",
      "name": "4. Update Document Content",
      "description": "Update the content of a document (name and folder stay the same)",
      "method": "PUT",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"content\": \"# Aria Moonwhisper - Updated!\\n\\nThis content has been updated! She is now level 25.\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1698738800000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_rename_document",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents/{{ _.document_id }}",
      "name": "5. Rename Document",
      "description": "Change the name of a document (stays in same folder)",
      "method": "PUT",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"name\": \"Aria the Enchantress\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1698738700000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_move_document_via_path",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents/{{ _.document_id }}",
      "name": "5b. Move Document via folder_path",
      "description": "Move document using folder_path (auto-creates folders if needed)",
      "method": "PUT",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"folder_path\": \"Archive/Old Characters\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1698738675000,
      "isPrivate": false,
      "afterResponseScript": "const response = await insomnia.response.json();\nconsole.log('✅ Document moved to:', response.path);\nconsole.log('Expected path contains: Archive/Old Characters');",
      "_type": "request"
    },
    {
      "_id": "req_move_document",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents/{{ _.root_document_id }}",
      "name": "6. Move Document to Folder",
      "description": "Move root document into a folder (uses folder_id from environment)",
      "method": "PUT",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"folder_id\": \"{{ _.folder_id }}\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1698738650000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_move_document_priority_test",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents/{{ _.root_document_id }}",
      "name": "6b. [PRIORITY TEST] Move with Both - folder_id Wins",
      "description": "When both folder_id and folder_path provided, folder_id takes priority",
      "method": "PUT",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"folder_id\": \"{{ _.folder_id }}\",\n  \"folder_path\": \"Archive\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1698738637500,
      "isPrivate": false,
      "afterResponseScript": "const response = await insomnia.response.json();\nif (response && response.folder_id === insomnia.environment.get('folder_id')) {\n  console.log('✅ Priority test passed: folder_id was used');\n} else {\n  console.log('❌ Priority test failed: wrong folder_id');\n}\nconsole.log('Expected folder_id:', insomnia.environment.get('folder_id'));\nconsole.log('Actual folder_id:', response.folder_id);",
      "_type": "request"
    },
    {
      "_id": "req_move_document_to_root",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents/{{ _.document_id }}",
      "name": "7. Move Document to Root",
      "description": "Move document to root level (set folder_id to empty string)",
      "method": "PUT",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"folder_id\": \"\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1698738625000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_create_doc_validation_test",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents",
      "name": "7b. [VALIDATION] Create without folder_path or folder_id",
      "description": "Should fail: must provide at least one of folder_path or folder_id",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"name\": \"Invalid Document\",\n  \"content\": \"# Invalid\\n\\nThis should fail validation.\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1698738617500,
      "isPrivate": false,
      "afterResponseScript": "const status = await insomnia.response.getStatusCode();\nif (status === 400) {\n  console.log('✅ Validation test passed: got expected 400 error');\n} else {\n  console.log('❌ Validation test failed: expected 400, got', status);\n}",
      "_type": "request"
    },
    {
      "_id": "req_rename_document_with_slash",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents/{{ _.document_id }}",
      "name": "8. [VALIDATION] Rename Document with Slash",
      "description": "Should succeed: document names CAN contain slashes (unlike folders)",
      "method": "PUT",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"name\": \"Hero/Villain Arc\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1698738610000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_delete_document",
      "parentId": "fld_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "url": "{{ _.base_url }}/api/documents/{{ _.document_id }}",
      "name": "9. Delete Document",
      "description": "Delete a document by ID",
      "method": "DELETE",
      "body": {},
      "parameters": [],
      "headers": [],
      "authentication": {},
      "metaSortKey": -1698738600000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "fld_documents",
      "parentId": "wrk_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "name": "Document Operations",
      "description": "Test document CRUD operations",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1698739200000,
      "_type": "request_group"
    },
    {
      "_id": "wrk_documents",
      "parentId": null,
      "modified": 1698739200000,
      "created": 1698739200000,
      "name": "03 - Documents",
      "description": "Document CRUD operations",
      "scope": "collection",
      "_type": "workspace"
    },
    {
      "_id": "env_base",
      "parentId": "wrk_documents",
      "modified": 1698739200000,
      "created": 1698739200000,
      "name": "Base Environment",
      "data": {
        "base_url": "http://localhost:8080",
        "document_id": "",
        "root_document_id": "",
        "folder_id": ""
      },
      "dataPropertyOrder": {
        "&": [
          "base_url",
          "document_id",
          "root_document_id",
          "folder_id"
        ]
      },
      "color": null,
      "isPrivate": false,
      "metaSortKey": 1698739200000,
      "_type": "environment"
    }
  ]
}

